<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<link rel="stylesheet" href="style.css">

<body>

	<script src="jquery-3.3.1.min.js"></script>
	<script src="script.js"></script>


	<div class="mijnklasse" id="click">
		<p>click</p>
	</div>

	<div id="video-container">
		<video id="thevid" width="auto" height="1080" loop>
  <source src="media/astronaut_turntable_export.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>
	</div>

</body>

<script>	
	
	var MyVideo = document.querySelector("#thevid");
	var lastClick = 0;
	var timeItTook = 0;	
	var timing = 0;
	var fiveSec = 0;
    
	window.setInterval(function timer () {
		timing++;
       // MyVideo.pause();
       console.log(timing);
	}, 10);
    
    window.setInterval(function timer () {
        fiveSec++;
        if(fiveSec  > 50){ //pauze na 5 sec
             MyVideo.pause();
        }
        console.log("5sec : " + fiveSec);
	}, 100);
	
	
	$("#click").click(function() {
		var t = timing;
		timeItTook = t - lastClick;
		
        
       var mappedNumber =  scale(timeItTook, 14, 200, 2.0, 0); //14 snelste klik, 200 traagste klik 
        console.log(mappedNumber);
        MyVideo.playbackRate  = mappedNumber;
            
		MyVideo.play();

		lastClick = t;
        fiveSec = 0; // reset 5 sec pauze
	});
    
    const scale = (num, in_min, in_max, out_min, out_max) => {
    var val = (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
    if (val <0) {val = 0.2};
    if (val > 2) {val = 10};
    return val
        
}
</script>

</html>